<div style="text-align:center;">
  <div class="contact">
    <div class="container">
      <h3 style="margin: 10px 0 40px 0;">投稿編集</h3>
      <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
          <%= form_with model: @post, method: :patch do |f| %>
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="contact-item">求めるレベル</th>
                  <td id='level' class="contact-body">
                    <%= f.label :level, 'レベル ' %>
                    <%= f.hidden_field :level, id: 'level_star' %>
                  </td>
                </tr>
                <tr>
                  <th class="contact-item">地域</th>
                  <td class="contact-body">
                    <%= f.collection_select(:region_id, Region.all, :id, :name, {}, {class: "select-box", id: "item-prefecture"}) %>
                  </td>
                </tr>
                <tr>
                  <th class="contact-item">投稿文</th>
                  <td class="contact-body">
                    <%= f.text_area :text, rows: '6', placeholder: "投稿文",class: "text_area2"  %>
                  </td>
                </tr>
              </tbody>
            </table>
            <%= f.submit " 編 集 完 了 ", class: "btn btn-success" %>
          <% end %>
        </div>
        <div class="col-3"></div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).on('turbolinks:load', function() {
    let elem = document.querySelector('#level');
    if (elem == null) return;
    elem.innerHTML = "";
    let opt = {
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      scoreName: 'post[level]',
      score: <%= @post.level %>
    };
    raty(elem, opt);
  });
</script>
