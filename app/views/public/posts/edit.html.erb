<div class="container">
  <div class="row">
    <h3>投稿編集</h3>
  </div>
  <div class="row">
   <div class="col-3" >
    </div>
    <div class="col-6">
      <%= form_with model:@post, method: :patch do |f| %>
        <table>
          <tbody>
              <tr>
              　<td>求めるレベル</td>
              　<td id='level'>
                  <%= f.label :level,'レベル ' %>
                  <%= f.hidden_field :level, id:'level_star' %>
              　</td>
              </tr>
              <tr>
              　<td>地域</td>
              　<td>
              　 <%= f.collection_select(:region_id, Region.all, :id, :name, {}, {class:"select-box", id:"item-prefecture"}) %>
              　</td>
              </tr>
              <tr>
              　<td>投稿文</td>
              　<td>
              　    <%= f.text_area :text, rows:'6', placeholder: "投稿文"  %>
              　</td>
              </tr>
              <tr>
                <td>
                <%= f.submit " 編 集 完 了 ",class: "btn btn-success" %>
                </td>
              </tr>
          </tbody>
        </table>
        <% end %>
      </div>
    <div class="col-3"></div>
  </div>
</div>

<script>
  $(document).on('turbolinks:load', function() {
    let elem = document.querySelector('#level');
    if (elem == null) return;
    elem.innerHTML = "";
    let opt = {
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      scoreName: 'post[level]',
      score: <%=@post.level%>
    };
    raty(elem, opt);
  });
</script>
